<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // get
        fetch('http://lcoalhost:3000/data').then(function(data){
            return data.text()
            // text()方法属于fetchAPI的一部分，它返回一个Promise的实例对象
        }).then(function(data){
            console.log(data)
        })



        // post
        fetch('/data',{
            method:'post',
            body:JSON.stringify({
                uname:'list',
                age:12
            }),
            headers:{
                'Content-Type':'application/json'
            }
        }).then(data=>{
            return data.text()
            // 响应数据格式 text() 将返回体处理成字符串类型  json 返回结果和JSON.parse(responseText) 一样

        }).then(result=>{
            console.log(result)
        })
    </script>
</body>
</html>